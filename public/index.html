<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>二手交換平台</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-brand">二手交換</div>
        <div class="nav-menu">
            <a href="#" onclick="showSection('home')">首頁</a>
            <a href="#" onclick="showSection('products')">商品</a>
            <a href="#" onclick="showSection('add-product')" id="add-product-link" style="display:none">發布商品</a>
            <a href="#" onclick="showSection('profile')" id="profile-link" style="display:none">個人中心</a>
            <a href="#" onclick="showSection('auth')" id="auth-link">登入</a>
            <a href="#" onclick="logout()" id="logout-link" style="display:none">登出</a>
        </div>
    </nav>

    <main class="container">
        <!-- 首頁 -->
        <section id="home" class="section active">
            <div class="hero">
                <h1>歡迎來到二手交換平台</h1>
                <p>環保交換，物盡其用</p>
                <button onclick="showSection('products')" class="btn-primary">瀏覽商品</button>
            </div>
        </section>

        <!-- 商品列表 -->
        <section id="products" class="section">
            <h2>商品列表</h2>
            <div class="search-bar">
                <input type="text" id="search-input" placeholder="搜尋商品...">
                <select id="category-filter">
                    <option value="">所有分類</option>
                    <option value="electronics">電子產品</option>
                    <option value="books">書籍</option>
                    <option value="clothing">服飾</option>
                    <option value="furniture">家具</option>
                    <option value="others">其他</option>
                </select>
            </div>
            <div id="products-grid" class="products-grid"></div>
        </section>

        <!-- 發布商品 -->
        <section id="add-product" class="section">
            <h2>發布商品</h2>
            <form id="product-form" class="form" enctype="multipart/form-data">
                <input type="text" id="product-title" placeholder="商品名稱" required>
                <textarea id="product-description" placeholder="商品描述" required></textarea>
                <select id="product-category" required>
                    <option value="">選擇分類</option>
                    <option value="electronics">電子產品</option>
                    <option value="books">書籍</option>
                    <option value="clothing">服飾</option>
                    <option value="furniture">家具</option>
                    <option value="others">其他</option>
                </select>
                <input type="text" id="product-condition" placeholder="物品狀況" required>
                <input type="number" id="product-price" placeholder="起始價格" min="0">
                <input type="file" id="product-image" accept="image/*">
                <button type="submit" class="btn-primary">發布商品</button>
            </form>
        </section>

        <!-- 登入註冊 -->
        <section id="auth" class="section">
            <div class="auth-container">
                <div class="auth-tabs">
                    <button class="tab-btn active" onclick="switchTab('login')">登入</button>
                    <button class="tab-btn" onclick="switchTab('register')">註冊</button>
                </div>
                
                <form id="login-form" class="form auth-form active">
                    <input type="email" id="login-email" placeholder="電子郵件" required>
                    <input type="password" id="login-password" placeholder="密碼" required>
                    <button type="submit" class="btn-primary">登入</button>
                    <p><a href="reset-password.html">忘記密碼？</a></p>
                </form>
                
                <form id="register-form" class="form auth-form">
                    <input type="text" id="register-username" placeholder="用戶名" required>
                    <input type="email" id="register-email" placeholder="電子郵件" required>
                    <input type="password" id="register-password" placeholder="密碼" required>
                    <button type="submit" class="btn-primary">註冊</button>
                </form>
            </div>
        </section>

        <!-- 個人中心 -->
        <section id="profile" class="section">
            <h2>個人中心</h2>
            <div id="user-info"></div>
            <div id="user-products"></div>
        </section>

        <!-- 商品詳情 -->
        <section id="product-detail" class="section">
            <div id="product-info"></div>
            
            <!-- 編輯商品 -->
            <div id="edit-product" class="edit-section" style="display:none;">
                <h3>編輯商品</h3>
                <form id="edit-product-form" class="form" enctype="multipart/form-data">
                    <input type="text" id="edit-title" placeholder="商品名稱" required>
                    <textarea id="edit-description" placeholder="商品描述" required></textarea>
                    <select id="edit-category" required>
                        <option value="">選擇分類</option>
                        <option value="electronics">電子產品</option>
                        <option value="books">書籍</option>
                        <option value="clothing">服飾</option>
                        <option value="furniture">家具</option>
                        <option value="others">其他</option>
                    </select>
                    <input type="text" id="edit-condition" placeholder="物品狀況" required>
                    <input type="number" id="edit-price" placeholder="起始價格" min="0">
                    <input type="file" id="edit-image" accept="image/*">
                    <button type="submit" class="btn-primary">更新商品</button>
                    <button type="button" onclick="cancelEdit()" class="btn-secondary">取消</button>
                </form>
            </div>
            
            <!-- 修改紀錄 -->
            <div id="edit-history" class="edit-history" style="display:none;">
                <h3>修改紀錄</h3>
                <div id="edits-list"></div>
            </div>
            
            <!-- 叫價區 -->
            <div class="bid-section">
                <h3>叫價區</h3>
                <div id="bids-list"></div>
                <form id="bid-form" class="form" style="display:none;">
                    <input type="number" id="bid-amount" placeholder="出價金額" required>
                    <textarea id="bid-message" placeholder="留言（選填）"></textarea>
                    <button type="submit" class="btn-primary">出價</button>
                </form>
            </div>
            
            <!-- 評論區 -->
            <div class="comment-section">
                <h3>評論區</h3>
                <div id="comments-list"></div>
                <form id="comment-form" class="form" style="display:none;">
                    <textarea id="comment-content" placeholder="寫下你的評論..." required></textarea>
                    <button type="submit" class="btn-primary">發表評論</button>
                </form>
            </div>
        </section>
    </main>

    <script src="script.js"></script>
</body>
</html>
